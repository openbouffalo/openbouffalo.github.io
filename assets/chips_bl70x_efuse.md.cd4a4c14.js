import{_ as t,c as d,o as e,a as o}from"./app.6b25eb76.js";const x=JSON.parse('{"title":"eFuse","description":"","frontmatter":{},"headers":[{"level":2,"title":"Free eFuse slots for user application","slug":"free-efuse-slots-for-user-application","link":"#free-efuse-slots-for-user-application","children":[]},{"level":2,"title":"Table of eFuse structure","slug":"table-of-efuse-structure","link":"#table-of-efuse-structure","children":[]}],"relativePath":"chips/bl70x/efuse.md","lastUpdated":1655762955000}'),_={name:"chips/bl70x/efuse.md"},r=o('<h1 id="efuse" tabindex="-1">eFuse <a class="header-anchor" href="#efuse" aria-hidden="true">#</a></h1><blockquote><p>Applies to BL702, BL704 and BL706<br> Size: 1Kbit</p></blockquote><p>eFuse is one time programmable memory. It&#39;s mostly used to store things like MAC Address, encryption keys and all other stuff, which are not possible to change after it being burned into eFuse.</p><p>In case of BL70X eFuse, once you burn the bit in eFuse, it&#39;s not possible to revert it. You can also write/read lock of specific eFuse slots/areas.</p><p>The structure of the eFuse is available in <a href="https://github.com/bouffalolab/bl_mcu_sdk/blob/master/drivers/bl702_driver/regs/ef_data_0_reg.h" target="_blank" rel="noreferrer">Bouffalo&#39;s SDK</a> and bfl_mcu_tools (file <code>efuse_cfg_keys.py</code>), although, it doesn&#39;t contains <em>all</em> properties.</p><h2 id="free-efuse-slots-for-user-application" tabindex="-1">Free eFuse slots for user application <a class="header-anchor" href="#free-efuse-slots-for-user-application" aria-hidden="true">#</a></h2><p><em>NOTE: This still work in progress and those information still can be not true</em></p><p>The slots <code>ef_key_slot_4_w0</code> and <code>ef_key_slot_4_w1</code> <strong>seems</strong> not to be used by any code.<br> If encryption is not used, slots from <code>ef_key_slot_0_w0</code> to <code>ef_key_slot_3_w3</code> can be free for the user application.</p><h2 id="table-of-efuse-structure" tabindex="-1">Table of eFuse structure <a class="header-anchor" href="#table-of-efuse-structure" aria-hidden="true">#</a></h2><table><thead><tr><th>Name</th><th>Byte Offset</th><th>Bit index</th><th>Length (bits)</th><th>Used in</th><th>Notes</th><th>Verified</th></tr></thead><tbody><tr><td>ef_sf_aes_mode</td><td>0 (0x0)</td><td>0</td><td>2</td><td>TBD</td><td>0 - disabled, 1 - 32 bit AES key, 2 - 48 bit key, 3 - 64 bit key</td><td>No</td></tr><tr><td>ef_sboot_sign_mode</td><td>0 (0x0)</td><td>2</td><td>2</td><td></td><td></td><td>No</td></tr><tr><td>ef_sboot_en</td><td>0 (0x0)</td><td>4</td><td>2</td><td></td><td></td><td>No</td></tr><tr><td>ef_cpu_enc_en</td><td>0 (0x0)</td><td>7</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>trim_enable</td><td>0 (0x0)</td><td>12</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_sw_usage_1</td><td>0 (0x0)</td><td>13</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_sdu_dis</td><td>0 (0x0)</td><td>14</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_ble_dis</td><td>0 (0x0)</td><td>15</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_wifi_dis</td><td>0 (0x0)</td><td>16</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_0_key_enc_en</td><td>0 (0x0)</td><td>17</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_sf_dis</td><td>0 (0x0)</td><td>19</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_cpu_rst_dbg_dis</td><td>0 (0x0)</td><td>21</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_se_dbg_dis</td><td>0 (0x0)</td><td>22</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_efuse_dbg_dis</td><td>0 (0x0)</td><td>23</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_dbg_jtag_dis</td><td>0 (0x0)</td><td>26</td><td>2</td><td></td><td></td><td>No</td></tr><tr><td>ef_dbg_mode</td><td>0 (0x0)</td><td>28</td><td>4</td><td></td><td></td><td>No</td></tr><tr><td>ef_dbg_pwd_low</td><td>4 (0x4)</td><td>0</td><td>32</td><td></td><td></td><td>No</td></tr><tr><td>ef_dbg_pwd_high</td><td>8 (0x8)</td><td>0</td><td>32</td><td></td><td></td><td>No</td></tr><tr><td>ef_ana_trim_0</td><td>12 (0xC)</td><td>0</td><td>32</td><td></td><td></td><td>No</td></tr><tr><td>ef_sw_usage_0</td><td>16 (0x10)</td><td>0</td><td>32</td><td></td><td></td><td>No</td></tr><tr><td>bootrom_protect</td><td>16 (0x10)</td><td>0</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>uart_log_disable</td><td>16 (0x10)</td><td>1</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>sdio_pin_init</td><td>16 (0x10)</td><td>2</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>disable_cci_coexist</td><td>16 (0x10)</td><td>3</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>xtal_type</td><td>16 (0x10)</td><td>4</td><td>3</td><td></td><td></td><td>No</td></tr><tr><td>pll_clk</td><td>16 (0x10)</td><td>7</td><td>3</td><td></td><td></td><td>No</td></tr><tr><td>hclk_div</td><td>16 (0x10)</td><td>10</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>bclk_div</td><td>16 (0x10)</td><td>11</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>flash_clk_type</td><td>16 (0x10)</td><td>12</td><td>3</td><td></td><td></td><td>No</td></tr><tr><td>flash_clk_div</td><td>16 (0x10)</td><td>15</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>flash_cfg</td><td>16 (0x10)</td><td>16</td><td>2</td><td></td><td></td><td>No</td></tr><tr><td>flash_pwr_delay</td><td>16 (0x10)</td><td>18</td><td>2</td><td></td><td></td><td>No</td></tr><tr><td>tz_boot</td><td>16 (0x10)</td><td>20</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>encrypted_tz_boot</td><td>16 (0x10)</td><td>21</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>hbn_check_sign</td><td>16 (0x10)</td><td>22</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>keep_dbg_port_closed</td><td>16 (0x10)</td><td>23</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>mediaboot_disable</td><td>16 (0x10)</td><td>24</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>uartboot_disable</td><td>16 (0x10)</td><td>25</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>sdioboot_disable</td><td>16 (0x10)</td><td>26</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>hbn_jump_disable</td><td>16 (0x10)</td><td>27</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>jtag_switch</td><td>16 (0x10)</td><td>28</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>jtag_init</td><td>16 (0x10)</td><td>29</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>qfn40</td><td>16 (0x10)</td><td>30</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>debug_log_reopen</td><td>16 (0x10)</td><td>31</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>ef_wifi_mac_low</td><td>20 (0x14)</td><td>0</td><td>32</td><td>BootROM, eflash_loader, boot2</td><td>Lower part of MAC Address (BT/WIFI), also used as ChipID</td><td>Yes</td></tr><tr><td>ef_wifi_mac_high</td><td>24 (0x18)</td><td>0</td><td>32</td><td>BootROM, eflash_loader, boot2</td><td>Higher part of MAC Address (BT/WIFI), also used as ChipID</td><td>Yes</td></tr><tr><td>ef_key_slot_0_w0</td><td>28 (0x1C)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [0:8 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_0_w1</td><td>32 (0x20)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [8:16 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_0_w2</td><td>36 (0x24)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [16:24 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_0_w3</td><td>40 (0x28)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [24:32 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_1_w0</td><td>44 (0x2C)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [32:40 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_1_w1</td><td>48 (0x30)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [40:48 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_1_w2</td><td>52 (0x34)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [48:56 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_1_w3</td><td>56 (0x38)</td><td>0</td><td>32</td><td>TBD</td><td>Public key hash, when <code>ef_sboot_sign_mode</code> is 1 [56:64 bytes of hash]</td><td>Yes</td></tr><tr><td>ef_key_slot_2_w0</td><td>60 (0x3C)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 1, 2, 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_2_w1</td><td>64 (0x40)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 1, 2, 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_2_w2</td><td>68 (0x44)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 1, 2, 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_2_w3</td><td>72 (0x48)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 1, 2, 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_3_w0</td><td>76 (0x4C)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 2, 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_3_w1</td><td>80 (0x50)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 2, 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_3_w2</td><td>84 (0x54)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_3_w3</td><td>88 (0x58)</td><td>0</td><td>32</td><td>TBD</td><td>AES key (<code>aes_mode</code> == 3)</td><td>Yes</td></tr><tr><td>ef_key_slot_4_w0</td><td>92 (0x5C)</td><td>0</td><td>32</td><td>TBD</td><td>Empty?</td><td>No</td></tr><tr><td>ef_key_slot_4_w1</td><td>96 (0x60)</td><td>0</td><td>32</td><td>TBD</td><td>Empty?</td><td>No</td></tr><tr><td>ef_key_slot_4_w2</td><td>100 (0x64)</td><td>0</td><td>32</td><td>TBD</td><td>Customer VID (0xFFFF0000) &amp; PID (0x0000FFFF)</td><td>Yes</td></tr><tr><td>ef_key_slot_4_w3</td><td>104 (0x68)</td><td>0</td><td>32</td><td>TBD</td><td>Chip VID (0xFFFF0000) &amp; PID (0x0000FFFF)</td><td>Yes</td></tr><tr><td>ef_key_slot_5_w0</td><td>108 (0x6C)</td><td>0</td><td>32</td><td>TBD</td><td>Optional MAC Address slot (low)</td><td>Yes</td></tr><tr><td>ef_key_slot_5_w1</td><td>112 (0x70)</td><td>0</td><td>32</td><td>TBD</td><td>Optional MAC Address slot (high)</td><td>Yes</td></tr><tr><td>ef_key_slot_5_w2</td><td>116 (0x74)</td><td>0</td><td>32</td><td>TBD</td><td>Device Info structure (TBD)</td><td>Yes</td></tr><tr><td>ef_key_slot_5_w3</td><td>120 (0x78)</td><td>0</td><td>32</td><td>TBD</td><td>CapCode (TBD)</td><td>No</td></tr><tr><td>wr_lock_key_slot_4_l</td><td>124 (0x7C)</td><td>13</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_key_slot_5_l</td><td>124 (0x7C)</td><td>14</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_boot_mode</td><td>124 (0x7C)</td><td>15</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_dbg_pwd</td><td>124 (0x7C)</td><td>16</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_sw_usage_0</td><td>124 (0x7C)</td><td>17</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_wifi_mac</td><td>124 (0x7C)</td><td>18</td><td>1</td><td></td><td>Write lock for MAC Address eFuse (by default burned from factory)</td><td>Yes</td></tr><tr><td>wr_lock_key_slot_0</td><td>124 (0x7C)</td><td>19</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_key_slot_1</td><td>124 (0x7C)</td><td>20</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_key_slot_2</td><td>124 (0x7C)</td><td>21</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_key_slot_3</td><td>124 (0x7C)</td><td>22</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_key_slot_4_h</td><td>124 (0x7C)</td><td>23</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>wr_lock_key_slot_5_h</td><td>124 (0x7C)</td><td>24</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>rd_lock_dbg_pwd</td><td>124 (0x7C)</td><td>25</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>rd_lock_key_slot_0</td><td>124 (0x7C)</td><td>26</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>rd_lock_key_slot_1</td><td>124 (0x7C)</td><td>27</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>rd_lock_key_slot_2</td><td>124 (0x7C)</td><td>28</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>rd_lock_key_slot_3</td><td>124 (0x7C)</td><td>29</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>rd_lock_key_slot_4</td><td>124 (0x7C)</td><td>30</td><td>1</td><td></td><td></td><td>No</td></tr><tr><td>rd_lock_key_slot_5</td><td>124 (0x7C)</td><td>31</td><td>1</td><td></td><td></td><td>No</td></tr></tbody></table>',10),s=[r];function l(a,i,c,f,h,n){return e(),d("div",null,s)}const k=t(_,[["render",l]]);export{x as __pageData,k as default};
